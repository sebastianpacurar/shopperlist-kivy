#: import RV components.components.RV
#: include components/components.kv

#: import PROD_CATEGORY_SCR utils.constants.PROD_CATEGORY_SCR
#: import PROD_UNIT_SCR utils.constants.PROD_UNIT_SCR

<AddDataScreen>:
    name: 'add_data_scr'
    MDBoxLayout:
        orientation: 'vertical'
        padding: dp(20), 0, dp(20), 0

        Widget:
            size_hint_y: None
            height: root.top_bar_height + root.top_bar_height * .25
            minimum_size: self.size

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(20)

            MDSegmentedButton:
                type:'small'
                MDSegmentedButtonItem:
                    on_release: root.switch_scr(PROD_CATEGORY_SCR)
                    active: True
                    MDSegmentButtonLabel:
                        text: 'Category'
                MDSegmentedButtonItem:
                    on_release: root.switch_scr(PROD_UNIT_SCR)
                    MDSegmentButtonLabel:
                        text: 'Unit'

            MDBoxLayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: self.children[1].height
                spacing: dp(20)

                MDTextField:
                    id: text_field
                    mode: 'outlined'
                    MDTextFieldHintText:
                        text: 'Add item'

                MDIconButton:
                    id: add_btn
                    icon: 'plus-thick'
                    style: 'filled'
                    pos_hint: {'center_x': .5, 'center_y': .5}
                    on_release: root.add_entity()

            MDTextField:
                id: search_field
                on_text: root.filter_displayed_list(self)
                mode: 'outlined'
                MDTextFieldHintText:
                    text: 'Search item'
                MDTextFieldTrailingIcon:
                    icon: 'text-search'

            MDScreenManager:
                id: data_manager
                CategoryScr:
                UnitScr:


<CategoryScr>:
    name: 'category_scr'
    MDBoxLayout:
        RV:
            viewclass: 'EditableOneLineItemList'
            id: rv_category

<UnitScr>:
    name: 'unit_scr'
    MDBoxLayout:
        RV:
            viewclass: 'EditableOneLineItemList'
            id: rv_unit
