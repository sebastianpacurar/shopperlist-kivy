#: import UserManagerScreen screens.user_management.user_management_scr.UserManagerScreen
#: include screens/user_management/UserManagerScreen.kv

#: import CollectionScreen screens.collection.collection_scr.CollectionScreen
#: include screens/collection/CollectionScreen.kv

#: import ProdsScreen screens.product.product_list.products_scr.ProdsScreen
#: include screens/product/product_list/ProdsScreen.kv

#: import ProdScreen screens.product.single_product.product_scr.ProdScreen
#: include screens/product/single_product/ProdScreen.kv

#: import ListScreen screens.list.list_scr.ListScreen
#: include screens/list/ListScreen.kv


MainScreen:

<MainScreen>:
    md_bg_color: app.theme_cls.backgroundColor
    MDTopAppBar:
        id: top_bar
        type: 'small'
        pos_hint: {'top': 1}

        MDTopAppBarLeadingButtonContainer:

            MDActionTopAppBarButton:
                id: top_bar_left_btn
                on_press: app.open_navbar() if self.icon=='menu' else app.navigate_back()

        MDTopAppBarTitle:
            id: top_bar_name
            text: "AppBar small"

        MDTopAppBarTrailingButtonContainer:

            MDActionTopAppBarButton:
                id: top_bar_right_btn

    MDNavigationLayout:
        MDScreenManager:
            id: scr_manager
            UserManagerScreen:
                top_bar: top_bar
            ProdsScreen:
            CollectionScreen:
            ListScreen:
#            AddDataScreen:
#            AddProdScreen:
            ProdScreen:
                top_bar: top_bar

        MDNavigationDrawer:
            radius: (0, 16, 16, 0)
            id: nav_drawer

            MDNavigationDrawerMenu:
                MDNavigationDrawerHeader:
                    id: nav_drawer_header
                    orientation: 'vertical'
                    padding: 0, 0, 0, dp(6)
                    adaptive_height: True

                MDLabel:
                    text: "Header title"
                    theme_text_color: "Custom"
                    theme_line_height: "Custom"
                    line_height: 0
                    text_color: "#4a4939"
                    adaptive_height: True
                    padding_x: "16dp"
                    font_style: "Display"
                    role: "small"

            MDNavigationDrawerDivider:

            MDNavigationDrawerItem:
                on_press:
                    nav_drawer.set_state('close')
                    app.change_screen_and_update_bar('products_list_scr')
                MDNavigationDrawerItemLeadingIcon:
                    icon: 'food-drumstick-outline'
                    theme_icon_color: "Custom"
                    icon_color: "#4a4939"

                MDNavigationDrawerItemText:
                    text: 'Products'
                    theme_text_color: "Custom"
                    text_color: "#4a4939"

            MDNavigationDrawerDivider:

            MDNavigationDrawerItem:
                on_press:
                    nav_drawer.set_state('close')
                    app.change_screen_and_update_bar('collection_scr')
                MDNavigationDrawerItemLeadingIcon:
                    icon: 'list-box-outline'
                    theme_icon_color: "Custom"
                    icon_color: "#4a4939"

                MDNavigationDrawerItemText:
                    text: 'Shopping Lists'
                    theme_text_color: "Custom"
                    text_color: "#4a4939"


#<DrawerItem>:
#    active_indicator_color: "#e7e4c0"
#
#    MDNavigationDrawerItemLeadingIcon:
#        icon: root.icon
#        theme_icon_color: "Custom"
#        icon_color: "#4a4939"
#
#    MDNavigationDrawerItemText:
#        text: root.text
#        theme_text_color: "Custom"
#        text_color: "#4a4939"